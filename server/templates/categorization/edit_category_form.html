{% extends "layout.html" %}
{% block title %}Edit Category - TekPossible Monitor{% endblock %}

{% block content %}
<div id="edit-category-page" class="page">
    <div class="page-header">
        <h1 class="page-title">Edit Category: {{ category.name }}</h1>
        <a href="{{ url_for('categorization.manage_categories') }}" class="btn btn-secondary btn-sm">
            <i class="fas fa-arrow-left"></i> Back to Categories
        </a>
    </div>

    <div class="card form-container"> {# form-container for max-width #}
        <div class="card-body">
            <form method="POST" action="{{ url_for('categorization.edit_category', category_id_str=category._id) }}">
                <div class="form-group">
                    <label for="editCategoryName" class="form-label">Category Name*</label>
                    <input type="text" id="editCategoryName" name="name" class="form-control form-control-sm" 
                           value="{{ request.form.name if request.form else category.name }}" required>
                </div>
                <div class="form-group">
                    <label for="editCategoryDescription" class="form-label">Description (Optional)</label>
                    <textarea id="editCategoryDescription" name="description" class="form-control form-control-sm" 
                              rows="3">{{ request.form.description if request.form else category.description }}</textarea>
                </div>
                <div class="form-group">
                    <label for="editCategoryColor" class="form-label">Color</label>
                    <input type="color" id="editCategoryColor" name="color" class="form-control form-control-sm form-control-color" 
                           value="{{ request.form.color if request.form else category.color | default('#cccccc') }}" title="Choose category color">
                </div>
                {% if category.is_default %}
                <div class="alert alert-info small mt-3">
                    <i class="fas fa-info-circle me-1"></i> This is a default system category. Some properties might be restricted.
                </div>
                {% endif %}
                <div class="form-actions mt-4">
                    <button type="submit" class="btn btn-primary btn-sm"><i class="fas fa-save me-1"></i> Save Changes</button>
                    <a href="{{ url_for('categorization.manage_categories') }}" class="btn btn-outline-secondary btn-sm">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}